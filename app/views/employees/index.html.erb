<center>
<h1>Employees Details</h1>
<br>

<% if user_signed_in? %>
  <% case current_user.role %>
    <% when 'HR' %>
    <h3>Welcome, HR</h3>
  <% when 'Employee' %>
    <h3>Welcome, Employee</h3>
  <% end %>
<% else %>
  <h3>Welcome</h3>
<% end %>


<form class="form-inline" action="/search" method="GET">
    <div class="container" class="justify-content-center">
    <div class="row height d-flex justify-content-center align-items-center">
          <table>
              <td><input type="/search" class="form-control" placeholder="Search by ID" aria-label="Search" 
                   name="query" method = "GET" class="form-control form-control-lg"> </td>
              <td><button class="btn btn-primary col-md-12  " type="submit" >Search</button> </td>
          </table>
    </div>
  </div>
</form>

<br>
 <% @employees.each do |employee| %>

 <table>
    <tr>
      <th colspan="2"> First Name </th>
      <th colspan="2"> Last Name </th>
      <th colspan="2"> Office ID </th>
      <th colspan="3"> Action </th>
    </tr>
    <tr>
    <td colspan="2"> <%= employee.fname %> </td>
    <td colspan="2"> <%= employee.lname %> </td>
    <td colspan="2"> <%= employee.office_id %> </td>
    <td colspan="2"><%= link_to "show", employee %></td>
     <% if current_user.role == "HR" %>
    <td colspan="2"><%= link_to "Edit", edit_employee_path(employee) %></td>
    <td colspan="2"> <%= link_to "Destroy", employee_path(employee), data: {
                    turbo_method: :delete,
                    turbo_confirm: "Are you sure?"
                  } %></td>
    <% end %>
  </tr>
  </table>
  
<% end %>
<%#= link_to "All Employees", employee_showall_path %>
<br>
<% if current_user.role == "HR" %>
<%= link_to "Create New Employee", new_employee_path %>
<% end %>
</center>
